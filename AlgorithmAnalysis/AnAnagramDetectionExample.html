<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Пример с определением анаграммы &mdash; Problem Solving with Algorithms and Data Structures</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="../_static/js/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/js/pytutor.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/assess.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/lib/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/lib/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/underscore-min.js"></script>
    <script type="text/javascript" src="../_static/lib/lis.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/parsons-noconflict.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <link rel="top" title="Problem Solving with Algorithms and Data Structures" href="../index.html" />
    <link rel="next" title="Performance of Python Data Structures" href="PerformanceofPythonDataStructures.html" />
    <link rel="prev" title="Нотация “большое О”" href="BigONotation.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'pythonds';
  eBookConfig.logLevel = 10;
  eBookConfig.loginRequired = false
  eBookConfig.build_info = "2.1.5";
  eBookConfig.isLoggedIn = false;
</script>

<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>


<script>
var _prum = [['id', '521dfcc4abe53d0749000000'],
             ['mark', 'firstbyte', (new Date()).getTime()]];
(function() {
    var s = document.getElementsByTagName('script')[0]
      , p = document.createElement('script');
    p.async = 'async';
    p.src = '//rum-static.pingdom.net/prum.min.js';
    s.parentNode.insertBefore(p, s);
})();
</script>



  </head>
  <body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/runestone/default/user/login">&nbsp; </a>
        <a class="navbar-brand" href="../index.html">Problem Solving with Algorithms and Data Structures</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-share-alt" style="opacity: 0.9"></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div class="gittip">
                  <iframe style="border:0;"
                    src="https://www.gittip.com/bnmnetp/widget.html"
                    width="48pt" height="22pt" class="gittip-button">
                  </iframe>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li>
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html'>Table of Contents</a></li>
            
            <li><a href='/runestone/static/pythonds/genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:toggleScratchActivecode()">Scratch ActiveCode</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        <!-- user account dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-user" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><span class='loggedinuser'></span></li>
            <li class="divider"></li>
            <li><a href='http://127.0.0.1:8000/runestone/admin/index'>Instructor's Page</a></li>
            <li class="divider"></li>
            <li><a href="http://127.0.0.1:8000/runestone/default/user/profile" id="profilelink">Edit Profile</a></li>
            <li><a href="http://127.0.0.1:8000/runestone/default/user/change_password" id="passwordlink">Change Password</a></li>
            <li><a href="http://127.0.0.1:8000/runestone/default/user/register" id="registerlink">Register</a></li>
            <li class='loginout'><a href='#'>Login</a></li> <!-- correct link populated by addNavbarLoginLink() -->
          </ul>
        </li>
        <!-- end user account dropdown -->

        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='/runestone/static/pythonds/navhelp.html'>Navigation Help</a></li>
            <li><a href='/runestone/static/overview/instructor.html'>Help for Instructors</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='https://github.com/bnmnetp/runestone/issues/new'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        <!--
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Пример с определением анаграммы</a><ul>
<li><a class="reference internal" href="#id2">Решение 1: Метки</a></li>
<li><a class="reference internal" href="#id3">Решение 2: Сортируй и сравнивай</a></li>
<li><a class="reference internal" href="#id4">Решение 3: Полный перебор</a></li>
<li><a class="reference internal" href="#id5">Решение 4: Подсчитывай и сравнивай</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          
  <li id="relations-prev" title="Previous Chapter - Нотация &#8220;большое О&#8221;" data-toggle="tooltip">
    <a href="BigONotation.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - Performance of Python Data Structures' data-toggle="tooltip" >
    <a href="PerformanceofPythonDataStructures.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="id1">
<h1>Пример с определением анаграммы<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Хорошим примером для демонстрации алгоритмов с разным порядком величины
является классическая задача для строк - определения анаграммы. Одна
строка является анаграммой другой, если вторая получается простой
перестановкой букв первой. Например, <tt class="docutils literal"><span class="pre">'heart'</span></tt> и <tt class="docutils literal"><span class="pre">'earth'</span></tt> - это
анаграммы. Как и строки <tt class="docutils literal"><span class="pre">'python'</span></tt> и <tt class="docutils literal"><span class="pre">'typhon'</span></tt>. Для простоты будем
полагать, что обе заданные строки одной длины и составлены из набора
символов в 26 букв в нижнем регистре. Нашел целью будет написать булеву
функцию, принимающую две строки и возвращающую ответ - являются ли они
анаграммами?</p>
<div class="section" id="id2">
<h2>Решение 1: Метки<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Наше первое решение задачи про анаграмму будет проверять, входит ли
каждый из символов первой строки во вторую. Если все символы будут
&#8220;отмечены&#8221;, то строки являются анаграммами. &#8220;Пометка&#8221; символа будет
выполняться с помощью замены его на специальное значение Python <tt class="docutils literal"><span class="pre">None</span></tt>.
Однако, поскольку строки в Python иммутабельны, первым шагом обработки будет
конвертирование второй строки в список. Каждый символ из первой строки может
быть сверен с элементами списка и, если будет найден, отмечен оговоренной заменой.
<a class="reference internal" href="#lst-anagramsolution"><em>ActiveCode 4</em></a> демонстрирует эту функцию.</p>

<div id="cont"></div>
<div id="active5" lang="python" class="ac_section alert alert-warning" >

<div class="ac_actions">
<button class='btn btn-success' id="active5_runb">Run</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="active5_saveb" onclick="saveEditor('active5');">Save</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="active5_loadb" onclick="requestCode('active5');">Load</button>

</div>
<br/>
<div id="active5_code_div" style="display: block" class="ac_code_div">
<textarea cols="50" rows="12" id="active5_code" class="active_code", prefixcode="undefined" lang="python">
def anagramSolution1(s1,s2):
    alist = list(s2)

    pos1 = 0
    stillOK = True

    while pos1 < len(s1) and stillOK:
        pos2 = 0
        found = False
        while pos2 < len(alist) and not found:
            if s1[pos1] == alist[pos2]:
                found = True
            else:
                pos2 = pos2 + 1

        if found:
            alist[pos2] = None
        else:
            stillOK = False

        pos1 = pos1 + 1

    return stillOK

print(anagramSolution1('abcd','dcba'))
</textarea>
</div>
<div class="ac_output">
<div style="text-align: center">
<canvas id="active5_canvas" class="ac-canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>
<pre id="active5_suffix" style="display:none">
</pre><pre id="active5_pre" class="active_out">

</pre>

</div> 
<div class="clearfix"></div>
<p class="ac_caption"><span class="ac_caption_text">Метки (active5)</span> </p>

<script>
if ('block' == 'none') {
    // a hack to preserve the inline-block display style. Toggle() will use display: block
    // (instead of inline-block) if the previous display style was 'none'
    $('#active5_saveb').toggle();
    $('#active5_loadb').toggle();
}
if ($("#active5_code_div").parents(".admonition").length == 0 && $("#active5_code_div").parents("#exercises").length == 0){
	if ($(window).width() > 975){
		$("#active5_code_div").offset({
			left: $("#active5 .clearfix").offset().left
		});
	}
	$("#active5_runb").one("click", function(){
		$({})
		.queue(function (next) {
			if ($(window).width() > 975){
				$("#active5_code_div").animate({
					left: 40
				}, 500, next);
			}
			else{
				next();
			}
		})
		.queue(function (next) {
			$("#active5_runb").parent().siblings(".ac_output").show();
			runit('active5',this, undefined);
			$("#active5_runb").on("click", function(){
				runit('active5',this, undefined);
			});
		})
		
	});
}
else{
	console.log("inside new if")
	$("#active5_code_div").css({float : "none", marginLeft : "auto", marginRight : "auto"});
	$("#active5_runb").parent().siblings(".ac_output").show().css({float : "none", right : "0px"});
	$("#active5_runb").on("click", function(){
		console.log("button clicked");
		runit('active5',this, undefined);
	});
}
</script>

</div>

<p>При анализе алгоритма нам стоит отметить, что каждый из <em>n</em> символов в
<tt class="docutils literal"><span class="pre">s1</span></tt> вызовет цикл по <em>n</em> символам списка, полученного из <tt class="docutils literal"><span class="pre">s2</span></tt>.
Каждая из <em>n</em> позиций списка будет посещена единожды, чтобы проверить её
на соответствие <tt class="docutils literal"><span class="pre">s1</span></tt>. Количество таких посещений будет выражено через
сумму целых чисел от 1 до <em>n</em>. Ранее мы уже говорили, что это может быть
записано как</p>
<div class="math">
\[\begin{split}\sum_{i=1}^{n} i &amp;= \frac {n(n+1)}{2} \\
                 &amp;= \frac {1}{2}n^{2} + \frac {1}{2}n\end{split}\]</div>
<p>С увеличением <span class="math">\(n\)</span> слагаемое <span class="math">\(n^{2}\)</span> начнёт доминировать,
так что <span class="math">\(n\)</span> и <span class="math">\(\frac {1}{2}\)</span> можно проигнорировать.
Таким образом, решение является <span class="math">\(O(n^{2})\)</span></p>
</div>
<div class="section" id="id3">
<h2>Решение 2: Сортируй и сравнивай<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Следующие решение задачи про анаграммы будет использовать тот факт, что
даже если <tt class="docutils literal"><span class="pre">s1</span></tt> и <tt class="docutils literal"><span class="pre">s2</span></tt> различны, они будут анаграммами только если
состоят из одинаковых символов. Следовательно, если мы отсортируем каждую
строку в алфавитном порядке от <tt class="docutils literal"><span class="pre">a</span></tt> до <tt class="docutils literal"><span class="pre">z</span></tt>, то в итоге получим одинаковые
строки (если, конечно, <tt class="docutils literal"><span class="pre">s1</span></tt> и <tt class="docutils literal"><span class="pre">s2</span></tt> - анаграммы). Это решение показано
в <a class="reference internal" href="#lst-ana2"><em>ActiveCode 5</em></a>. Опять же, в Python мы можем использовать
встроенный метод <tt class="docutils literal"><span class="pre">sort</span></tt>, для списков, полученных в начале функции конвертацией
каждой строки.</p>

<div id="cont"></div>
<div id="active6" lang="python" class="ac_section alert alert-warning" >

<div class="ac_actions">
<button class='btn btn-success' id="active6_runb">Run</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="active6_saveb" onclick="saveEditor('active6');">Save</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="active6_loadb" onclick="requestCode('active6');">Load</button>

</div>
<br/>
<div id="active6_code_div" style="display: block" class="ac_code_div">
<textarea cols="50" rows="12" id="active6_code" class="active_code", prefixcode="undefined" lang="python">
def anagramSolution2(s1,s2):
    alist1 = list(s1)
    alist2 = list(s2)

    alist1.sort()
    alist2.sort()

    pos = 0
    matches = True

    while pos < len(s1) and matches:
        if alist1[pos]==alist2[pos]:
            pos = pos + 1
        else:
            matches = False

    return matches

print(anagramSolution2('abcde','edcba'))
</textarea>
</div>
<div class="ac_output">
<div style="text-align: center">
<canvas id="active6_canvas" class="ac-canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>
<pre id="active6_suffix" style="display:none">
</pre><pre id="active6_pre" class="active_out">

</pre>

</div> 
<div class="clearfix"></div>
<p class="ac_caption"><span class="ac_caption_text">Сортируй и сравнивай (active6)</span> </p>

<script>
if ('block' == 'none') {
    // a hack to preserve the inline-block display style. Toggle() will use display: block
    // (instead of inline-block) if the previous display style was 'none'
    $('#active6_saveb').toggle();
    $('#active6_loadb').toggle();
}
if ($("#active6_code_div").parents(".admonition").length == 0 && $("#active6_code_div").parents("#exercises").length == 0){
	if ($(window).width() > 975){
		$("#active6_code_div").offset({
			left: $("#active6 .clearfix").offset().left
		});
	}
	$("#active6_runb").one("click", function(){
		$({})
		.queue(function (next) {
			if ($(window).width() > 975){
				$("#active6_code_div").animate({
					left: 40
				}, 500, next);
			}
			else{
				next();
			}
		})
		.queue(function (next) {
			$("#active6_runb").parent().siblings(".ac_output").show();
			runit('active6',this, undefined);
			$("#active6_runb").on("click", function(){
				runit('active6',this, undefined);
			});
		})
		
	});
}
else{
	console.log("inside new if")
	$("#active6_code_div").css({float : "none", marginLeft : "auto", marginRight : "auto"});
	$("#active6_runb").parent().siblings(".ac_output").show().css({float : "none", right : "0px"});
	$("#active6_runb").on("click", function(){
		console.log("button clicked");
		runit('active6',this, undefined);
	});
}
</script>

</div>

<p>В первый момент вы можете подумать, что этот алгоритм имеет <span class="math">\(O(n)\)</span>,
поскольку у него есть всего одна простая итерация для сравнения <em>n</em> символов
после сортировки. Однако, два вызова Python-метода <tt class="docutils literal"><span class="pre">sort</span></tt> не проходят
даром. Как мы увидим в следующих главах, сортировка обычно имеет
<span class="math">\(O(n^{2})\)</span> или <span class="math">\(O(n\log n)\)</span>, так что эта операция доминирует над
циклом. В итоге алгоритм будет иметь тот же порядок операций, что и
сортировочные вычисления.</p>
</div>
<div class="section" id="id4">
<h2>Решение 3: Полный перебор<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>Техника <strong>полного перебора</strong> для решения задач обычно используется, когда
все другие возможности уже исчерпаны. Для задачи определения анаграммы мы
можем просто сгенерировать список всех возможных строк из символов <tt class="docutils literal"><span class="pre">s1</span></tt>
и посмотреть, входит ли в него <tt class="docutils literal"><span class="pre">s2</span></tt>. Но в данном подходе есть одна
закавырка: при генерации всех возможных строк из <tt class="docutils literal"><span class="pre">s1</span></tt> есть <em>n</em> возможных
первых символов, <span class="math">\(n-1\)</span> возможных вторых символов и так далее. Отсюда
общее количество строк-кандидатов будет <span class="math">\(n*(n-1)*(n-2)*...*3*2*1\)</span>,
что есть <span class="math">\(n!\)</span>. Несмотря на то, что некоторые строки будут дублироваться,
программа об этом заранее знать не будет, поэтому всё равно сгенерирует
<span class="math">\(n!\)</span> различных строк.</p>
<p>Решение <span class="math">\(n!\)</span> с увеличением <em>n</em> возрастает быстрее, чем даже
<span class="math">\(2^{n}\)</span>. Фактически, при длине <tt class="docutils literal"><span class="pre">s1</span></tt> в 20 символов мы получим
<span class="math">\(20!=2,432,902,008,176,640,000\)</span> возможных строк-кандидатов. Если мы
будем обрабатывать одну вероятность каждую секунду, то на весь список уйдёт
77 146 816 596 лет. Похоже, это совсем не хорошее решение.</p>
</div>
<div class="section" id="id5">
<h2>Решение 4: Подсчитывай и сравнивай<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>Наше последнее решения задачи про анаграммы воспользуется преимуществом
того факта, что любые две анаграммы имеют одинаковое количество букв <em>a</em>,
<em>b</em> и так далее. Для того, чтобы решить, являются ли строки анаграммами,
мы сначала подсчитаем, сколько раз в них встречается каждый символ.
Поскольку возможных букв 26, то мы можем использовать список из 26
счётчиков - по одному на каждый символ. Каждый раз, когда мы видим конкретную
букву, мы увеличиваем соответствующий ей счётчик на единицу. В итоге, если
оба списка счётчиков идентичны, то строки - анаграммы. Это решение показано
в <a class="reference internal" href="#lst-ana4"><em>ActiveCode 6</em></a></p>

<div id="cont"></div>
<div id="active7" lang="python" class="ac_section alert alert-warning" >

<div class="ac_actions">
<button class='btn btn-success' id="active7_runb">Run</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="active7_saveb" onclick="saveEditor('active7');">Save</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="active7_loadb" onclick="requestCode('active7');">Load</button>

</div>
<br/>
<div id="active7_code_div" style="display: block" class="ac_code_div">
<textarea cols="50" rows="12" id="active7_code" class="active_code", prefixcode="undefined" lang="python">
def anagramSolution4(s1,s2):
    c1 = [0]*26
    c2 = [0]*26

    for i in range(len(s1)):
        pos = ord(s1[i])-ord('a')
        c1[pos] = c1[pos] + 1

    for i in range(len(s2)):
        pos = ord(s2[i])-ord('a')
        c2[pos] = c2[pos] + 1

    j = 0
    stillOK = True
    while j<26 and stillOK:
        if c1[j]==c2[j]:
            j = j + 1
        else:
            stillOK = False

    return stillOK

print(anagramSolution4('apple','pleap'))
</textarea>
</div>
<div class="ac_output">
<div style="text-align: center">
<canvas id="active7_canvas" class="ac-canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>
<pre id="active7_suffix" style="display:none">
</pre><pre id="active7_pre" class="active_out">

</pre>

</div> 
<div class="clearfix"></div>
<p class="ac_caption"><span class="ac_caption_text">Подсчитывай и сравнивай (active7)</span> </p>

<script>
if ('block' == 'none') {
    // a hack to preserve the inline-block display style. Toggle() will use display: block
    // (instead of inline-block) if the previous display style was 'none'
    $('#active7_saveb').toggle();
    $('#active7_loadb').toggle();
}
if ($("#active7_code_div").parents(".admonition").length == 0 && $("#active7_code_div").parents("#exercises").length == 0){
	if ($(window).width() > 975){
		$("#active7_code_div").offset({
			left: $("#active7 .clearfix").offset().left
		});
	}
	$("#active7_runb").one("click", function(){
		$({})
		.queue(function (next) {
			if ($(window).width() > 975){
				$("#active7_code_div").animate({
					left: 40
				}, 500, next);
			}
			else{
				next();
			}
		})
		.queue(function (next) {
			$("#active7_runb").parent().siblings(".ac_output").show();
			runit('active7',this, undefined);
			$("#active7_runb").on("click", function(){
				runit('active7',this, undefined);
			});
		})
		
	});
}
else{
	console.log("inside new if")
	$("#active7_code_div").css({float : "none", marginLeft : "auto", marginRight : "auto"});
	$("#active7_runb").parent().siblings(".ac_output").show().css({float : "none", right : "0px"});
	$("#active7_runb").on("click", function(){
		console.log("button clicked");
		runit('active7',this, undefined);
	});
}
</script>

</div>

<p>Решение вновь имеет некоторое количество циклов. Однако, в отличии от
первого варианта, ни один из них не является вложенным. Два первых цикла,
используемые для подсчёта символов, базируются на <em>n</em>.
Третий цикл - сравнение двух списков счётчиков - всегда состоит из 26
итераций (поскольку строки состоят из 26 возможных элементов). Складывая
всё вместе, получим <span class="math">\(T(n)=2n+26\)</span> шагов, что является <span class="math">\(O(n)\)</span>.
Мы нашли алгоритм с линейным порядком величины для решения нашей задачи.</p>
<p>До того, как закончить с этим примером, стоит сказать несколько слов о
пространственных требованиях. Хотя последнее решение и работает за линейное
время, оно достигает этого путём использования дополнительных хранилищ для
двух списков счётчиков. Другими словами, этот алгоритм приносит в жертву
пространство, чтобы выиграть время.</p>
<p>Это очень распространённый случай. Очень часто вам придётся делать выбор
между временем и пространством. В данном случае объём места был не существенен.
Однако, если основополагающий алфавит имеет миллионы символов, то это вызовет
больше беспокойства. Как у учёных-информатиков, при выборе алгоритма только от
вас будет зависеть определение наилучшего использования вычислительных ресурсов,
выделенных под конкретную задачу.</p>
<div class="admonition- admonition">
<p class="first admonition-title">Самопроверка</p>

            <div id="analysis_1" class="alert alert-warning">
            <p>sc-1-10: Given the following code fragment, what is its Big-O running time?</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">test</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
   <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
      <span class="n">test</span> <span class="o">=</span> <span class="n">test</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">j</span>
</pre></div>
</div>
<form name="analysis_1_form" method="get" action="" onsubmit="return false;">
            <input type="radio" name="group1" value="a" id="analysis_1_opt_a" />
            <label for= "analysis_1_opt_a">  a) O(n)</label><br />
            
            <input type="radio" name="group1" value="b" id="analysis_1_opt_b" />
            <label for= "analysis_1_opt_b">  b) O(n^2)</label><br />
            
            <input type="radio" name="group1" value="c" id="analysis_1_opt_c" />
            <label for= "analysis_1_opt_c">  c) O(log n)</label><br />
            
            <input type="radio" name="group1" value="d" id="analysis_1_opt_d" />
            <label for= "analysis_1_opt_d">  d) O(n^3)</label><br />
            

            <script>
            $(document).ready(function(){checkRadio('analysis_1');});
            </script>
            <button class='btn btn-success' name="do answer" onclick="checkMCMFStorage('analysis_1','b',['In an example like this you want to count the nested loops. especially the loops that are dependent on the same variable, in this case, n.', 'A singly nested loop like this is O(n^2)', 'log n typically is indicated when the problem is iteratvely made smaller', 'In an example like this you want to count the nested loops. especially the loops that are dependent on the same variable, in this case, n.'])">Check Me</button>
            <button class='btn btn-default' id="analysis_1_bcomp" disabled name="compare" onclick="compareAnswers('analysis_1');">Compare Me</button>
            </form><br />
            <div id="analysis_1_feedback">
            </div>
            </div>
            
            <div id="analysis_2" class="alert alert-warning">
            <p>sc-1-11: Given the following code fragment what is its Big-O running time?</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">test</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
   <span class="n">test</span> <span class="o">=</span> <span class="n">test</span> <span class="o">+</span> <span class="mi">1</span>

<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
   <span class="n">test</span> <span class="o">=</span> <span class="n">test</span> <span class="o">-</span> <span class="mi">1</span>
</pre></div>
</div>
<form name="analysis_2_form" method="get" action="" onsubmit="return false;">
            <input type="radio" name="group1" value="a" id="analysis_2_opt_a" />
            <label for= "analysis_2_opt_a">  a) O(n)</label><br />
            
            <input type="radio" name="group1" value="b" id="analysis_2_opt_b" />
            <label for= "analysis_2_opt_b">  b) O(n^2)</label><br />
            
            <input type="radio" name="group1" value="c" id="analysis_2_opt_c" />
            <label for= "analysis_2_opt_c">  c) O(log n)</label><br />
            
            <input type="radio" name="group1" value="d" id="analysis_2_opt_d" />
            <label for= "analysis_2_opt_d">  d) O(n^3)</label><br />
            

            <script>
            $(document).ready(function(){checkRadio('analysis_2');});
            </script>
            <button class='btn btn-success' name="do answer" onclick="checkMCMFStorage('analysis_2','a',['Even though there are two loops they are not nested.  You might think of this as O(2n) but we can ignore the constant 2.', 'Be careful, in counting loops you want to make sure the loops are nested.', 'log n typically is indicated when the problem is iteratvely made smaller', 'Be careful, in counting loops you want to make sure the loops are nested.'])">Check Me</button>
            <button class='btn btn-default' id="analysis_2_bcomp" disabled name="compare" onclick="compareAnswers('analysis_2');">Compare Me</button>
            </form><br />
            <div id="analysis_2_feedback">
            </div>
            </div>
            
            <div id="analysis_3" class="alert alert-warning">
            <p>sc-1-12: Given the following code fragment what is its Big-O running time?</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">i</span> <span class="o">=</span> <span class="n">n</span>
<span class="k">while</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
   <span class="n">k</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span>
   <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">//</span> <span class="mi">2</span>
</pre></div>
</div>
<form name="analysis_3_form" method="get" action="" onsubmit="return false;">
            <input type="radio" name="group1" value="a" id="analysis_3_opt_a" />
            <label for= "analysis_3_opt_a">  a) O(n)</label><br />
            
            <input type="radio" name="group1" value="b" id="analysis_3_opt_b" />
            <label for= "analysis_3_opt_b">  b) O(n^2)</label><br />
            
            <input type="radio" name="group1" value="c" id="analysis_3_opt_c" />
            <label for= "analysis_3_opt_c">  c) O(log n)</label><br />
            
            <input type="radio" name="group1" value="d" id="analysis_3_opt_d" />
            <label for= "analysis_3_opt_d">  d) O(n^3)</label><br />
            

            <script>
            $(document).ready(function(){checkRadio('analysis_3');});
            </script>
            <button class='btn btn-success' name="do answer" onclick="checkMCMFStorage('analysis_3','c',['Look carefully at the loop variable i.  Notice that the value of i is cut in half each time through the loop.  This is a big hint that the performance is better than O(n)', 'Check again, is this a nested loop?', 'The value of i is cut in half each time through the loop so it will only take log n iterations.', 'Check again, is this a nested loop?'])">Check Me</button>
            <button class='btn btn-default' id="analysis_3_bcomp" disabled name="compare" onclick="compareAnswers('analysis_3');">Compare Me</button>
            </form><br />
            <div id="analysis_3_feedback">
            </div>
            </div>
            </div>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - Нотация &#8220;большое О&#8221;' data-toggle="tooltip">
    <a href="BigONotation.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="BigONotation.html" ></a>
  
  <li id="relations-next" class="navLink" title='Next Section - Performance of Python Data Structures' data-toggle="tooltip" >
    <a href="PerformanceofPythonDataStructures.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="PerformanceofPythonDataStructures.html" >Next Section - Performance of Python Data Structures</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <span id='numuserspan'></span> readers online now | <span class='loggedinuser'></span> | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013 Brad Miller, David Ranum.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.
    </p>
  </div>
</footer>

<script type="text/javascript" charset="utf-8">
    $(document).ready(addUserToFooter);
    $(document).ready(addNavbarLoginLink);
    $(document).ready(createEditors);
    $(document).ready(getNumUsers);
    $(document).ready(getOnlineUsers);
    $(document).ready(createScratchActivecode());
    $(document).ready(styleUnittestResults());
</script>

<script type="text/javascript">
  // add the video play button overlay image
  $(".video-play-overlay").each(function() {
    $(this).css('background-image', "url(\'../_static/play_overlay_icon.png\')")
    });

  // This function is needed to allow the dropdown search bar to work;
  // The default behaviour is that the dropdown menu closes when something in
  // it (like the search bar) is clicked
  $(function() {
    // Fix input element click problem
    $('.dropdown input, .dropdown label').click(function(e) {
      e.stopPropagation();
      });
  });

  // style codelens buttons (doing it here because PyTutor is a submodule owned by someone else
  $(function() {
    $(".ExecutionVisualizer").each(function() {
      $(this).find("#jmpFirstInstr").addClass('btn btn-default');
      $(this).find("#jmpStepBack").addClass('btn btn-danger');
      $(this).find("#jmpStepFwd").addClass('btn btn-success');
      $(this).find("#jmpLastInstr").addClass('btn btn-default');
      });
  });

</script>


<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>