<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Инфиксные, префиксные и постфиксные выражения &mdash; Problem Solving with Algorithms and Data Structures</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="../_static/js/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/js/pytutor.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/assess.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/lib/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/lib/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/underscore-min.js"></script>
    <script type="text/javascript" src="../_static/lib/lis.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/parsons-noconflict.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <link rel="top" title="Problem Solving with Algorithms and Data Structures" href="../index.html" />
    <link rel="next" title="Что такое очередь?" href="WhatIsaQueue.html" />
    <link rel="prev" title="Конвертирование десятичных чисел в двоичные" href="ConvertingDecimalNumberstoBinaryNumbers.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'pythonds';
  eBookConfig.logLevel = 10;
  eBookConfig.loginRequired = false
  eBookConfig.build_info = "2.1.5";
  eBookConfig.isLoggedIn = false;
</script>

<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>


<script>
var _prum = [['id', '521dfcc4abe53d0749000000'],
             ['mark', 'firstbyte', (new Date()).getTime()]];
(function() {
    var s = document.getElementsByTagName('script')[0]
      , p = document.createElement('script');
    p.async = 'async';
    p.src = '//rum-static.pingdom.net/prum.min.js';
    s.parentNode.insertBefore(p, s);
})();
</script>



  </head>
  <body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/runestone/default/user/login">&nbsp; </a>
        <a class="navbar-brand" href="../index.html">Problem Solving with Algorithms and Data Structures</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-share-alt" style="opacity: 0.9"></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div class="gittip">
                  <iframe style="border:0;"
                    src="https://www.gittip.com/bnmnetp/widget.html"
                    width="48pt" height="22pt" class="gittip-button">
                  </iframe>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li>
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html'>Table of Contents</a></li>
            
            <li><a href='/runestone/static/pythonds/genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:toggleScratchActivecode()">Scratch ActiveCode</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        <!-- user account dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-user" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><span class='loggedinuser'></span></li>
            <li class="divider"></li>
            <li><a href='http://127.0.0.1:8000/runestone/admin/index'>Instructor's Page</a></li>
            <li class="divider"></li>
            <li><a href="http://127.0.0.1:8000/runestone/default/user/profile" id="profilelink">Edit Profile</a></li>
            <li><a href="http://127.0.0.1:8000/runestone/default/user/change_password" id="passwordlink">Change Password</a></li>
            <li><a href="http://127.0.0.1:8000/runestone/default/user/register" id="registerlink">Register</a></li>
            <li class='loginout'><a href='#'>Login</a></li> <!-- correct link populated by addNavbarLoginLink() -->
          </ul>
        </li>
        <!-- end user account dropdown -->

        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='/runestone/static/pythonds/navhelp.html'>Navigation Help</a></li>
            <li><a href='/runestone/static/overview/instructor.html'>Help for Instructors</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='https://github.com/bnmnetp/runestone/issues/new'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        <!--
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Инфиксные, префиксные и постфиксные выражения</a><ul>
<li><a class="reference internal" href="#id2">Преобразование инфиксного выражения в префиксное и постфиксное</a></li>
<li><a class="reference internal" href="#id3">Обобщённое преобразование из инфиксного в постфиксный вид</a></li>
<li><a class="reference internal" href="#id4">Постфиксные вычисления</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          
  <li id="relations-prev" title="Previous Chapter - Конвертирование десятичных чисел в двоичные" data-toggle="tooltip">
    <a href="ConvertingDecimalNumberstoBinaryNumbers.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - Что такое очередь?' data-toggle="tooltip" >
    <a href="WhatIsaQueue.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="id1">
<h1>Инфиксные, префиксные и постфиксные выражения<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Когда вы записываете арифметическое выражение вроде B * C, то его форма
предоставляет вам достаточно информации для корректной интерпретации. В
данном случае мы знаем, что переменная B умножается на переменную C,
поскольку оператор умножения * находится в выражении между ними. Такой
тип записи называется <strong>инфиксной</strong>, поскольку оператор расположен <em>между</em>
(<em>in between</em>) двух операндов, с которыми он работает.</p>
<p>Рассмотрим другой инфиксный пример: A + B * C. Операторы + и * по-прежнему
располагаются между операндами, но тут уже есть проблема. С какими операндами
они будут работать? + работает с A и B или * принимает B и C? Выражение
выглядит неоднозначно.</p>
<p>Фактически, вы можете читать и писать выражения такого типа долгое время,
и они не будут вызывать у вас вопросов. Причина в том, что вы кое-что знаете
о + и *. Каждый оператор имеет свой <strong>приоритет</strong>. Операторы с высоким
приоритетом используются прежде операторов с низким. Единственной вещью,
которая может изменить порядок приоритетов, являются скобки. Для
арифметических операций умножение и деление стоят выше сложения и вычитания.
Если появляются два оператора одинакового приоритета, то используются порядок
слева направо или их ассоциативность.</p>
<p>Давайте интерпретируем вызвавшее затруднение выражение A + B * C, используя
приоритет операторов. B и C перемножаются первыми, затем к результату
добавляется A. (A + B) * C заставит выполнить сложение A и B перед умножением.
В выражении A + B + C по очерёдности (через ассоциативность) первым будет
вычисляться самый левый +.</p>
<p>Хотя это и может быть очевидным для вас, помните, что компьютер нуждается в
точном знании того, как и в какой последовательности вычисляются операторы.
Одним из способов записи выражения, гарантирующим, что не возникнет путаницы
по отношению к порядку операций, является создание того, что называется
выражением <strong>с полностью расставленными скобками</strong>. Такой тип выражения
использует пару скобок для каждого оператора. Скобки диктуют порядок операций,
так что здесь не возникает многозначности. Так же отпадает необходимость
помнить правила расстановки приоритетов.</p>
<p>Выражение A + B * C может быть переписано как ((A + (B * C)) + D) с целью
показать, что умножение происходит в первую очередь, а затем следует крайнее
левое сложение. A + B + C + D перепишется в (((A + B) + C) + D), поскольку
операции сложения ассоциируются слева направо.</p>
<p>Существует ещё два очень важных формата выражений, которые на первый взгляд
могут показаться вам неочевидными. Рассмотрим инфиксную запись A + B. Что
произойдёт, если мы поместим оператор перед двумя операндами? Результирующее
выражение будет  + A B. Также мы можем переместить оператор в конец, получив
A B +. Всё это выглядит несколько странным.</p>
<p>Эти изменения позиции оператора по отношению к операндам создают два новых
формата - <strong>префиксный</strong> и <strong>постфиксный</strong>. Префиксная запись выражения требует,
чтобы все операторы предшествовали двум операндам, с которыми они работают.
Постфиксная, в свою очередь, требует, чтобы операторы шли после соответствующих
операндов. Несколько дополнительных примеров помогут прояснить этот момент
(см. <a class="reference internal" href="#tbl-example1"><em>Таблицу 2</em></a>).</p>
<p>A + B * C можно переписать как + A * B C в префиксной нотации. Оператор умножения
ставится непосредственно перед операндами B и C, указывая на приоритет * над +.
Затем следует оператор сложения перед A и результатом умножения.</p>
<p>В постфиксной записи выражение выглядит как A B C * +. Порядок операций вновь
сохраняется, поскольку * находится непосредственно после B и C, обозначая, что
он имеет приоритет выше следующего +. Хотя операторы перемещаются и теперь
находятся до или после соответствующих операндов, порядок последних по отношению
друг к другу остаётся в точности таким, как был.</p>
<table border="1" class="docutils" id="tbl-example1">
<caption><strong>Таблица 2: Примеры инфиксной, префиксной и постфиксной записи</strong></caption>
<colgroup>
<col width="37%" />
<col width="31%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Инфиксная запись</strong></th>
<th class="head"><strong>Префиксная запись</strong></th>
<th class="head"><strong>Постфиксная запись</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>A + B</td>
<td>+ A B</td>
<td>A B +</td>
</tr>
<tr class="row-odd"><td>A + B * C</td>
<td>+ A * B C</td>
<td>A B C * +</td>
</tr>
</tbody>
</table>
<p>А сейчас рассмотрим инфиксное выражение (A + B) * C. Напомним, что в
этом случае запись требует наличия скобок для указания выполнить сложение
перед умножением. Однако, когда A + B записывается в префиксной форме, то
оператор сложения просто помещается перед операндами:  + A B. Результат
этой операции является первым операндом для умножения. Оператор умножения
перемещается в начало всего выражения, давая нам * + A B C. Аналогично, в
постфиксной записи A B + явно указывается, что первым происходит сложение.
Умножение может быть выполнено для получившегося результата и оставшегося
операнда C. Соответствующим постфиксным выражением будет A B + C *.</p>
<p>Рассмотрим эти три выражения ещё раз (см. <a class="reference internal" href="#tbl-parexample"><em>Таблицу 3</em></a>).
Происходит что-то очень важное. Куда ушли скобки? Почему они не нужны нам в
префиксной и постфиксной записи? Ответ в том, что операторы больше не являются
неоднозначными по отношению к своим операндам. Только инфиксная запись требует
дополнительных символов. Порядок операций внутри префиксного и постфиксного
выражений полностью определён позицией операторов и ничем иным. Во многом именно
это делает инфиксную запись наименее желательной нотацией для использования.</p>
<table border="1" class="docutils" id="tbl-parexample">
<caption><strong>Таблица 3: Выражение со скобками</strong></caption>
<colgroup>
<col width="35%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Инфиксное выражение</strong></th>
<th class="head"><strong>Префиксное выражение</strong></th>
<th class="head"><strong>Постфиксное выражение</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>(A + B) * C</td>
<td>* + A B C</td>
<td>A B + C *</td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#tbl-example3"><em>Таблица 4</em></a> демонстрирует некоторые дополнительные примеры
инфиксных выражений и эквивалентных им префиксных и постфиксных записей.
Убедитесь, что вы понимаете, почему они эквивалентны с точки зрения порядка
выполнения операций.</p>
<table border="1" class="docutils" id="tbl-example3">
<caption><strong>Таблица 4: Дополнительные примеры инфиксной, префиксной и постфиксной записи</strong></caption>
<colgroup>
<col width="35%" />
<col width="32%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Инфиксное выражение</strong></th>
<th class="head"><strong>Префиксное выражение</strong></th>
<th class="head"><strong>Постфиксное выражение</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>A + B * C + D</td>
<td>+ + A * B C D</td>
<td>A B C * + D +</td>
</tr>
<tr class="row-odd"><td>(A + B) * (C + D)</td>
<td>* + A B + C D</td>
<td>A B + C D + *</td>
</tr>
<tr class="row-even"><td>A * B + C * D</td>
<td>+ * A B * C D</td>
<td>A B * C D * +</td>
</tr>
<tr class="row-odd"><td>A + B + C + D</td>
<td>+ + + A B C D</td>
<td>A B + C + D +</td>
</tr>
</tbody>
</table>
<div class="section" id="id2">
<h2>Преобразование инфиксного выражения в префиксное и постфиксное<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>До сих пор мы использовали специальные методы для преобразования между
инфиксными выражениями и эквивалентными им префиксной и постфикской
записями. Как вы можете ожидать, существуют алгоритмические способы
выполнения таких преобразований, позволяющие корректно трансформировать
любое выражение любой сложности.</p>
<p>Первой из рассматриваемых нами техник будет использование идеи полной
расстановки скобок в выражении, рассмотренной нами ранее. Напомним, что
A + B * C можно записать как (A + (B * C)), чтобы явно показать приоритет
умножения перед сложением. Однако, при более близком рассмотрении вы увидите,
что каждая пара скобок также отмечает начало и конец пары операндов с
соответствующим оператором по середине.</p>
<p>Взгляните на правую скобку в подвыражении (B * C) выше. Если мы передвинем
символ умножения с его позиции и удалим соответствующую левую скобку, получив
B C *, то полученный эффект конвертирует подвыражение в постфиксную нотацию.
Если оператор сложения тоже передвинуть к соответствующей правой скобке и удалить
связанную с ним левую скобку, то результатом станет полное постфиксное выражение
(см. <a class="reference internal" href="#fig-moveright"><em>Изображение 6</em></a>).&lt;/p&gt;</p>
<div class="figure align-center" id="fig-moveright">
<img alt="../_images/moveright.png" src="../_images/moveright.png" />
<p class="caption">Рисунок 6: Перемещение операторов вправо для постфиксной записи</p>
</div>
<p>Если мы сделаем тоже самое, но вместо передвижения символа на позицию к правой
скобке, сдвинем его к левой, то получим префиксную нотацию
(см. <a class="reference internal" href="#fig-moveleft"><em>Рисунок 7</em></a>). Позиция пары скобок на самом деле является
ключом к окончательной позиции заключённого между ними оператора.</p>
<div class="figure align-center" id="fig-moveleft">
<img alt="../_images/moveleft.png" src="../_images/moveleft.png" />
<p class="caption">Рисунок 7: Перемещение операторов влево для префиксной записи.</p>
</div>
<p>Таким образом, с целью преобразования выражения (неважно, насколько сложного) в
префиксную или постфиксную запись, для установления порядка выполнения операций
используется полная расстановка скобок. Затем передвигайте находящийся внутри
них оператор на крайнюю левую или крайнюю правую позицию - в зависимости от
того, префиксную или постфиксную запись вы хотите получить.</p>
<p>Вот более сложное выражение: (A + B) * C - (D - E) * (F + G).
<a class="reference internal" href="#fig-complexmove"><em>Рисунок 8</em></a> демонстрирует его преобразование в постфиксный
и префиксный виды.</p>
<div class="figure align-center" id="fig-complexmove">
<img alt="../_images/complexmove.png" src="../_images/complexmove.png" />
<p class="caption">Рисунок 8: Преобразование сложного выражения к префиксной и постфиксной записи.</p>
</div>
</div>
<div class="section" id="id3">
<h2>Обобщённое преобразование из инфиксного в постфиксный вид<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Нам необходимо разработать алгоритм преобразования любого инфиксного выражения
в постфиксное. Для этого посмотрим ближе на сам процесс конвертирования.</p>
<p>Рассмотрим ещё раз выражение A + B * C. Как было показано выше, его постфиксным
эквивалентом является A B C * +. Мы уже отмечали, что операнды A, B и C остаются
на своих местах, а местоположение меняют только операторы. Ещё раз взглянем на
операторы в инфиксном выражении. Первым при проходе слева направо нам попадётся +.
Однако, в постфиксном выражении + находится в конце, так как следующий оператор,
*, имеет приоритет над сложением. Порядок операторов в первоначальном выражении
обратен результирующему постфиксному выражению.</p>
<p>В процессе обработки выражения операторы должны где-то храниться, пока не найден
их соответствующий правый операнд. Также порядок этих сохраняемых операторов может
быть обратным (из-за их приоритета). Это случай со сложением и умножением в данном
примере. Поскольку оператор сложения, появляющийся перед оператором умножения, имеет
более низкий приоритет, то он должен появиться после использования оператора умножения.
Из-за такого обратного порядка имеет смысл рассмотреть использование стека для хранения
операторов до тех пор, пока они не понадобятся.</p>
<p>Что насчёт (A + B) * C? Напомним, что его постфиксный эквивалент A B + C *.
Повторимся, что обрабатывая это инфиксное выражение слева направо, первым мы
встретим +. В этом случае, когда мы увидим *, + уже будет помещён в результирующее
выражение, поскольку имеет преимущество над * в силу использования скобок. Теперь
можно начать рассматривать, как будет работать алгоритм преобразования. Когда мы
видим левую скобку, мы сохраняем её как знак, что должен будет появиться другой
оператор с высоким приоритетом. Он будет ожидать, пока не появится соответствующая
правая скобка, чтобы отметить его местоположение (вспомните технику полной расстановки
скобок). После появления правой скобки оператор выталкивается из стека.</p>
<p>Поскольку мы сканируем инфиксное выражение слева направо, то будем использовать
стек для хранения операторов. Это предоставит нам обратный порядок, который мы
отмечали в первом примере. На вершине стека всегда будет последний сохранённый
оператор. Когда бы мы не прочитали новый оператор, мы должны сравнить его по
приоритету с операторами в стеке (если таковые имеются).</p>
<p>Предположим, что инфиксное выражение есть строка токенов, разделённых пробелами.
Токенами операторов являются *, /, + и - вместе с правой и левой скобками, ( и ).
Токены операндов - это однобуквенные идентификаторы A, B, C и так далее.
Следующая последовательность шагов даст строку токенов в постфиксном порядке.</p>
<ol class="arabic simple">
<li>Создать пустой стек с названием <tt class="docutils literal"><span class="pre">opstack</span></tt> для хранения операторов.
Создать пустой список для вывода.</li>
<li>Преобразовать инфиксную строку в список, используя строковый метод
<tt class="docutils literal"><span class="pre">split</span></tt>.</li>
<li>Сканировать список токенов слева направо.<ul>
<li>Если токен является операндом, то добавить его в конец выходного
списка.</li>
<li>Если токен является левой скобкой, положить его в <tt class="docutils literal"><span class="pre">opstack</span></tt>.</li>
<li>Если токен является правой скобкой, то выталкивать элементы из
<tt class="docutils literal"><span class="pre">opstack</span></tt> пока не будет найдена соответствующая левая скобка.
Каждый оператор добавлять в конец выходного списка.</li>
<li>Если токен является оператором *, /, + или -, поместить его в
<tt class="docutils literal"><span class="pre">opstack</span></tt>. Однако, перед этим удалить любой из операторов, уже
находящихся в <tt class="docutils literal"><span class="pre">opstack</span></tt>, который имеет больший или равный
приоритет, и добавить его в выходной список.</li>
</ul>
</li>
</ol>
<p>#. Когда входное выражение будет полностью обработано, проверить <tt class="docutils literal"><span class="pre">opstack</span></tt>.
Любые операторы, всё ещё находящиеся в нём, следует удалить и добавить в конец
результирующего списка.</p>
<p><a class="reference internal" href="#fig-intopost"><em>Рисунок 9</em></a> демонстрирует алгоритм преобразования, работающий
над выражением A * B + C * D. Заметьте, что первый оператор * удаляется до того,
как мы встречаем оператор +. Также + остаётся в стеке, когда появляется второй *,
поскольку умножение имеет приоритет перед сложением. В конце инфиксного выражения
из стека дважды происходит выталкивание, удаляя оба оператора и помещая + как
последний элемент в результирующее постфиксное выражение.</p>
<div class="figure align-center" id="fig-intopost">
<img alt="../_images/intopost.png" src="../_images/intopost.png" />
<p class="caption">Рисунок 9: Преобразование A * B + C * D в постфиксную запись</p>
</div>
<p>Для того, чтобы закодировать алгоритм на Python, мы будем использовать словарь под
именем <tt class="docutils literal"><span class="pre">prec</span></tt> для хранения значений приоритета операторов. Он связывает каждый
оператор с целым числом, которые можно сравнивать с другими операторами как уровень
приоритетности (мы произвольно выбрали для этого целые числа 3, 2 и 1). Левая скобка
получит самое низкое значение. Таким образом, любой сравниваемый с ней оператор будет
иметь приоритет выше и располагаться над ней. Строка 15 определяет, что операнды могут
быть любыми символами в верхнем регистре или цифрами. Полная функция преобразования
показана в <a class="reference internal" href="#lst-intopost"><em>ActiveCode 8</em></a>.</p>

<div id="cont"></div>
<div id="intopost" lang="python" class="ac_section alert alert-warning" >

<div class="ac_actions">
<button class='btn btn-success' id="intopost_runb">Run</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="intopost_saveb" onclick="saveEditor('intopost');">Save</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="intopost_loadb" onclick="requestCode('intopost');">Load</button>

</div>
<br/>
<div id="intopost_code_div" style="display: block" class="ac_code_div">
<textarea cols="50" rows="12" id="intopost_code" class="active_code", prefixcode="undefined" lang="python">
from pythonds.basic.stack import Stack

def infixToPostfix(infixexpr):
    prec = {}
    prec["*"] = 3
    prec["/"] = 3
    prec["+"] = 2
    prec["-"] = 2
    prec["("] = 1
    opStack = Stack()
    postfixList = []
    tokenList = infixexpr.split()

    for token in tokenList:
        if token in "ABCDEFGHIJKLMNOPQRSTUVWXYZ" or token in "0123456789":
            postfixList.append(token)
        elif token == '(':
            opStack.push(token)
        elif token == ')':
            topToken = opStack.pop()
            while topToken != '(':
                postfixList.append(topToken)
                topToken = opStack.pop()
        else:
            while (not opStack.isEmpty()) and \
               (prec[opStack.peek()] >= prec[token]):
                  postfixList.append(opStack.pop())
            opStack.push(token)

    while not opStack.isEmpty():
        postfixList.append(opStack.pop())
    return " ".join(postfixList)

print(infixToPostfix("A * B + C * D"))
print(infixToPostfix("( A + B ) * C - ( D - E ) * ( F + G )"))
</textarea>
</div>
<div class="ac_output">
<div style="text-align: center">
<canvas id="intopost_canvas" class="ac-canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>
<pre id="intopost_suffix" style="display:none">
</pre><pre id="intopost_pre" class="active_out">

</pre>

</div> 
<div class="clearfix"></div>
<p class="ac_caption"><span class="ac_caption_text">Преобразование инфиксного выражения в постфиксное (intopost)</span> </p>

<script>
if ('block' == 'none') {
    // a hack to preserve the inline-block display style. Toggle() will use display: block
    // (instead of inline-block) if the previous display style was 'none'
    $('#intopost_saveb').toggle();
    $('#intopost_loadb').toggle();
}
if ($("#intopost_code_div").parents(".admonition").length == 0 && $("#intopost_code_div").parents("#exercises").length == 0){
	if ($(window).width() > 975){
		$("#intopost_code_div").offset({
			left: $("#intopost .clearfix").offset().left
		});
	}
	$("#intopost_runb").one("click", function(){
		$({})
		.queue(function (next) {
			if ($(window).width() > 975){
				$("#intopost_code_div").animate({
					left: 40
				}, 500, next);
			}
			else{
				next();
			}
		})
		.queue(function (next) {
			$("#intopost_runb").parent().siblings(".ac_output").show();
			runit('intopost',this, undefined);
			$("#intopost_runb").on("click", function(){
				runit('intopost',this, undefined);
			});
		})
		
	});
}
else{
	console.log("inside new if")
	$("#intopost_code_div").css({float : "none", marginLeft : "auto", marginRight : "auto"});
	$("#intopost_runb").parent().siblings(".ac_output").show().css({float : "none", right : "0px"});
	$("#intopost_runb").on("click", function(){
		console.log("button clicked");
		runit('intopost',this, undefined);
	});
}
</script>

</div>

<hr class="docutils" />
<p>Ниже показаны ещё несколько примеров выполнения кода в оболочке Python.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">infixtopostfix</span><span class="p">(</span><span class="s">&quot;( A + B ) * ( C + D )&quot;</span><span class="p">)</span>
<span class="go">&#39;A B + C D + *&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infixtopostfix</span><span class="p">(</span><span class="s">&quot;( A + B ) * C&quot;</span><span class="p">)</span>
<span class="go">&#39;A B + C *&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infixtopostfix</span><span class="p">(</span><span class="s">&quot;A + B * C&quot;</span><span class="p">)</span>
<span class="go">&#39;A B C * +&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h2>Постфиксные вычисления<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>В последнем примере использования стека мы рассмотрим вычисление выражения,
которое уже находится в постфиксной форме. В этом случае стек вновь выбран
структурой данных для решения задачи. Однако, поскольку вы сканируете
постфиксное выражение, ждать своей очереди должны уже операнды, а не операторы,
в противоположность алгоритму выше. Ещё один способ думать об этом решении:
когда на входе обнаружится оператор, для вычисления будут использованы два
самых последних операнда.</p>
<p>Чтобы увидеть это более детально, рассмотрим постфиксное выражение <tt class="docutils literal"><span class="pre">4</span> <span class="pre">5</span> <span class="pre">6</span> <span class="pre">*</span> <span class="pre">+</span></tt>.
Сканируя его слева направо, прежде всего вы натолкнётесь на операнды 4 и 5.
Что с ними делать вы не узнаете, пока не увидите следующий символ. Помещение
каждого из них в стек гарантирует их доступность на случай, если следующим
появится оператор.</p>
<p>В нашем случае следующий символ - ещё один операнд. Так что, как и раньше,
помещаем его в стек и проверяем следующий символ. Теперь мы видим оператор *.
Это означает, что два самых последних операнда нужно перемножить. Сделав дважды
выталкивание из стека, мы получим необходимые множители, а затем выполним умножение
(в данном случае результатом будет 30).</p>
<p>Теперь мы можем обработать полученное значение, поместив его обратно в стек,
чтобы оно могло использоваться в качестве операнда для последующих операторов в
выражении. Когда будет обработан последний оператор, в стеке останется только одно
значение. Выталкиваем его и возвращаем как результат выражения.
<a class="reference internal" href="#fig-evalpost1"><em>Рисунок 10</em></a> демонстрирует содержание стека на протяжении всего
процесса вычисления выражения из примера.</p>
<div class="figure align-center" id="fig-evalpost1">
<img alt="../_images/evalpostfix1.png" src="../_images/evalpostfix1.png" />
<p class="caption">Рисунок 10: Содержание стека в процессе вычисления</p>
</div>
<p>На <a class="reference internal" href="#fig-evalpost2"><em>Рисунке 11</em></a> показан несколько более сложный
пример: 7 8 + 3 2 + /. Здесь есть два момента, которые стоит отметить.
Первый: размер стека возрастает, сужается и вновь растёт в процессе вычисления
подвыражений. Второй: обрабатывать оператор деления нужно очень внимательно.
Напомним, что операнды в постфиксном выражении идут в их изначальном порядке,
поскольку постфикс меняет только положение оператора. Когда операнды деления
выталкиваются из стека, они находятся в обратной последовательности. Поскольку
деление <strong>не</strong> коммутативный оператор (другими словами, <span class="math">\(15/5\)</span> не то же
самое, что <span class="math">\(5/15\)</span>), мы должны быть уверены, что порядок операндов не изменился.</p>
<div class="figure align-center" id="fig-evalpost2">
<img alt="../_images/evalpostfix2.png" src="../_images/evalpostfix2.png" />
<p class="caption">Рисунок 11: Более сложный пример вычисления</p>
</div>
<p>Предположим, что постфиксное выражение - это строка токенов, разделённых пробелами.
Операторами являются *, /, + и -, а под операндами понимаются одноразрядные целые
значения. На выходе будет целочисленный результат.</p>
<ol class="arabic simple">
<li>Создать пустой стек под названием <tt class="docutils literal"><span class="pre">operandStack</span></tt>.</li>
<li>Преобразовать строку в список, используя строковый метод <tt class="docutils literal"><span class="pre">split</span></tt>.</li>
<li>Сканировать список токенов слева направо.<ul>
<li>Если токен является операндом, преобразовать его из строки в целое
число и поместить значение в <tt class="docutils literal"><span class="pre">operandStack</span></tt>.</li>
<li>Если токен является оператором *, /, + или -, то он нуждается в двух
операндах. Произвести выталкивание из <tt class="docutils literal"><span class="pre">operandStack</span></tt> дважды. Сначала
вытолкнется второй операнд, а затем - первый. Выполнить арифметическую
операцию. Поместить результат обратно в <tt class="docutils literal"><span class="pre">operandStack</span></tt>.</li>
</ul>
</li>
<li>Когда входное выражение полностью обработано, его результат находится в стеке.
Вытолкнуть его из <tt class="docutils literal"><span class="pre">operandStack</span></tt> и возвратить в качестве результата..</li>
</ol>
<p>Полностью функция для вычисления постфиксных выражений показана в
<a class="reference internal" href="#lst-postfixeval"><em>ActiveCode 9</em></a>. Для помощи с арифметикой определена
вспомогательная функция <tt class="docutils literal"><span class="pre">doMath</span></tt>. Она принимает два операнда и оператор,
после чего совершает надлежащую арифметическую операцию.</p>

<div id="cont"></div>
<div id="postfixeval" lang="python" class="ac_section alert alert-warning" >

<div class="ac_actions">
<button class='btn btn-success' id="postfixeval_runb">Run</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="postfixeval_saveb" onclick="saveEditor('postfixeval');">Save</button>
<button class="ac_opt btn btn-default" style="display: inline-block" id="postfixeval_loadb" onclick="requestCode('postfixeval');">Load</button>

</div>
<br/>
<div id="postfixeval_code_div" style="display: block" class="ac_code_div">
<textarea cols="50" rows="12" id="postfixeval_code" class="active_code", prefixcode="undefined" lang="python">
from pythonds.basic.stack import Stack

def postfixEval(postfixExpr):
    operandStack = Stack()
    tokenList = postfixExpr.split()

    for token in tokenList:
        if token in "0123456789":
            operandStack.push(int(token))
        else:
            operand2 = operandStack.pop()
            operand1 = operandStack.pop()
            result = doMath(token,operand1,operand2)
            operandStack.push(result)
    return operandStack.pop()

def doMath(op, op1, op2):
    if op == "*":
        return op1 * op2
    elif op == "/":
        return op1 / op2
    elif op == "+":
        return op1 + op2
    else:
        return op1 - op2

print(postfixEval('7 8 + 3 2 + /'))
</textarea>
</div>
<div class="ac_output">
<div style="text-align: center">
<canvas id="postfixeval_canvas" class="ac-canvas" height="400" width="400" style="border-style: solid; display: none; text-align: center"></canvas>
</div>
<pre id="postfixeval_suffix" style="display:none">
</pre><pre id="postfixeval_pre" class="active_out">

</pre>

</div> 
<div class="clearfix"></div>
<p class="ac_caption"><span class="ac_caption_text">Постфиксное вычисление (postfixeval)</span> </p>

<script>
if ('block' == 'none') {
    // a hack to preserve the inline-block display style. Toggle() will use display: block
    // (instead of inline-block) if the previous display style was 'none'
    $('#postfixeval_saveb').toggle();
    $('#postfixeval_loadb').toggle();
}
if ($("#postfixeval_code_div").parents(".admonition").length == 0 && $("#postfixeval_code_div").parents("#exercises").length == 0){
	if ($(window).width() > 975){
		$("#postfixeval_code_div").offset({
			left: $("#postfixeval .clearfix").offset().left
		});
	}
	$("#postfixeval_runb").one("click", function(){
		$({})
		.queue(function (next) {
			if ($(window).width() > 975){
				$("#postfixeval_code_div").animate({
					left: 40
				}, 500, next);
			}
			else{
				next();
			}
		})
		.queue(function (next) {
			$("#postfixeval_runb").parent().siblings(".ac_output").show();
			runit('postfixeval',this, undefined);
			$("#postfixeval_runb").on("click", function(){
				runit('postfixeval',this, undefined);
			});
		})
		
	});
}
else{
	console.log("inside new if")
	$("#postfixeval_code_div").css({float : "none", marginLeft : "auto", marginRight : "auto"});
	$("#postfixeval_runb").parent().siblings(".ac_output").show().css({float : "none", right : "0px"});
	$("#postfixeval_runb").on("click", function(){
		console.log("button clicked");
		runit('postfixeval',this, undefined);
	});
}
</script>

</div>

<p>Важно отметить, что для обеих программ - постфиксного преобразования и
постфиксного вычисления, - мы предполагаем, что во входном выражении нет
ошибок. Используя эти программы, как точку отсчёта, вы можете легко увидеть,
как в них могут быть включены определение ошибок и сообщение об этом.
Мы оставляем это как упражнение в конце главы.</p>
<div class="admonition-self-check admonition">
<p class="first admonition-title">Self Check</p>

            <div id="postfix1" class="alert alert-warning">
            sc-1-43: Без использования функции activecode infixToPostfix преобразуйте следующее выражение в постфиксную форму <tt class="docutils literal"><span class="pre">10</span> <span class="pre">+</span> <span class="pre">3</span> <span class="pre">*</span> <span class="pre">5</span> <span class="pre">/</span> <span class="pre">(16</span> <span class="pre">-</span> <span class="pre">4)</span></tt> <input type='text' id='pfblank1' class="form-control" style="display:inline; width: 210px;" value=""></input>
            <script>
            $(document).ready(function(){checkPreviousFIB('postfix1');});
            </script>
            <button class='btn btn-success' name="do answer" onclick="checkFIBStorage('postfix1', 'pfblank1', '\\b10\\s+3\\s+5\\s*\\*\\s*16\\s+4\\s*-\\s*/\\s*\\+',[['10.*3.*5.*16.*4', 'The numbers appear to be in the correct order check your operators'], ['.*', 'Remember the numbers will be in the same order as the original equation']], true)">Check Me</button>
            <button class='btn btn-default' id="postfix1_bcomp" disabled name="compare" onclick="compareFITBAnswers('postfix1');">Compare Me</button>
            <br />
            <br />
            <div id="postfix1_feedback">
            </div>
            </div>
            
            <div id="postfix2" class="alert alert-warning">
            sc-1-44: <tt class="docutils literal"><span class="pre">17</span> <span class="pre">10</span> <span class="pre">+</span> <span class="pre">3</span> <span class="pre">*</span> <span class="pre">9</span> <span class="pre">/</span> <span class="pre">==</span></tt> <input type='text' id='pfblank2' class="form-control" style="display:inline; width: 60px;" value=""></input>
            <script>
            $(document).ready(function(){checkPreviousFIB('postfix2');});
            </script>
            <button class='btn btn-success' name="do answer" onclick="checkFIBStorage('postfix2', 'pfblank2', '\\b9\\b',[['.*', 'Remember to push each intermediate result back on the stack']], false)">Check Me</button>
            <button class='btn btn-default' id="postfix2_bcomp" disabled name="compare" onclick="compareFITBAnswers('postfix2');">Compare Me</button>
            <br />
            <br />
            <div id="postfix2_feedback">
            </div>
            </div>
            
            <div id="postfix3" class="alert alert-warning">
            sc-1-45: Модифицируйте функцию infixToPostfix таким образом, чтобы она могла конвертировать следующее выражение:  <tt class="docutils literal"><span class="pre">5</span> <span class="pre">*</span> <span class="pre">3</span> <span class="pre">^</span> <span class="pre">(4</span> <span class="pre">-</span> <span class="pre">2)</span></tt>   Вставьте ответ сюда: <input type='text' id='pfblank3' class="form-control" style="display:inline; width: 210px;" value=""></input>
            <script>
            $(document).ready(function(){checkPreviousFIB('postfix3');});
            </script>
            <button class='btn btn-success' name="do answer" onclick="checkFIBStorage('postfix3', 'pfblank3', '5\\s+3\\s+4\\s+2\\s*-\\s*\\^\\s*\\*',[['.*', 'Hint: You only need to add one line to the function!!']], false)">Check Me</button>
            <button class='btn btn-default' id="postfix3_bcomp" disabled name="compare" onclick="compareFITBAnswers('postfix3');">Compare Me</button>
            <br />
            <br />
            <div id="postfix3_feedback">
            </div>
            </div>
            </div>
<div id="video_Stack3" class="video_popup" >
<video controls preload="none"  poster="../_static/activecodethumb.png">
    <source src="http://media.interactivepython.org/pythondsVideos/Stack3.mov" type="video/mp4"></source>
    <source src="http://media.interactivepython.org/pythondsVideos/Stack3.webm" type="video/webm"></source>
    No supported video types
</video>
</div>
<script>
   jQuery(function($) {
      $('#video_Stack3_thumb').click(function(e) {
         $('#video_Stack3').show();
         $('#video_Stack3_thumb').hide();
         logBookEvent({'event':'video','act':'play','div_id': 'video_Stack3'});
         // Log the run event
      });
	  $('#video_Stack3 video').one("click", function(){
		this.play();
	  });
	  $('#video_Stack3 video').one("play", function(){
		logBookEvent({'event':'video','act':'play','div_id': 'video_Stack3'});
	  });
   });
</script>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - Конвертирование десятичных чисел в двоичные' data-toggle="tooltip">
    <a href="ConvertingDecimalNumberstoBinaryNumbers.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="ConvertingDecimalNumberstoBinaryNumbers.html" ></a>
  
  <li id="relations-next" class="navLink" title='Next Section - Что такое очередь?' data-toggle="tooltip" >
    <a href="WhatIsaQueue.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="WhatIsaQueue.html" >Next Section - Что такое очередь?</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <span id='numuserspan'></span> readers online now | <span class='loggedinuser'></span> | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013 Brad Miller, David Ranum.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.
    </p>
  </div>
</footer>

<script type="text/javascript" charset="utf-8">
    $(document).ready(addUserToFooter);
    $(document).ready(addNavbarLoginLink);
    $(document).ready(createEditors);
    $(document).ready(getNumUsers);
    $(document).ready(getOnlineUsers);
    $(document).ready(createScratchActivecode());
    $(document).ready(styleUnittestResults());
</script>

<script type="text/javascript">
  // add the video play button overlay image
  $(".video-play-overlay").each(function() {
    $(this).css('background-image', "url(\'../_static/play_overlay_icon.png\')")
    });

  // This function is needed to allow the dropdown search bar to work;
  // The default behaviour is that the dropdown menu closes when something in
  // it (like the search bar) is clicked
  $(function() {
    // Fix input element click problem
    $('.dropdown input, .dropdown label').click(function(e) {
      e.stopPropagation();
      });
  });

  // style codelens buttons (doing it here because PyTutor is a submodule owned by someone else
  $(function() {
    $(".ExecutionVisualizer").each(function() {
      $(this).find("#jmpFirstInstr").addClass('btn btn-default');
      $(this).find("#jmpStepBack").addClass('btn btn-danger');
      $(this).find("#jmpStepFwd").addClass('btn btn-success');
      $(this).find("#jmpLastInstr").addClass('btn btn-default');
      });
  });

</script>


<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>